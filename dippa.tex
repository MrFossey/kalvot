\documentclass{beamer}
\usepackage[finnish]{babel}
\usepackage{beamerthemesplit} % new 
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[scaled]{helvet}
\usepackage[round]{natbib}
\bibliographystyle{kbib}
\usepackage{tikz}
\usepackage{longtable}
\usepackage{changepage}
\usetikzlibrary{positioning}
\usetikzlibrary{calc}
\usetikzlibrary{arrows}
\usetikzlibrary{decorations.pathmorphing,decorations.markings}
\usetikzlibrary{shapes}
\usetikzlibrary{patterns}
\usetikzlibrary{chains}
\usetikzlibrary{backgrounds, fit}


\begin{document}
\title{IT CAN FELL ROCKETS} 
\subtitle{Diplomityön väliversio}
\author{Antti Heikkonen} 
\date{\today}

\frame{\titlepage} 

\frame{\frametitle{Sisältö}\tableofcontents} 

% Käy nopeasti, tämä osa on vain kertausta
\section{Työn tavoite} 

\frame{\frametitle{Työn tavoite}
Työn tavoite on kehittää framework-prototyyppi järjestelmien väliseen integraatiotestaukseen.
}

\frame{\frametitle{Tutkimuskysymykset} % TODO tarkista dipasta
\begin{itemize} %
\item Minkälaisia vaatimuksia integraatiotestausprosessilla on?
% teoria ja wärtsilän vaatimukset
\item Miten framework pitäisi rakentaa ja miten sitä tulisi ylläpitää?
% tekninen näkökulma ja prosessinäkökulma (ihmisnäkökulma)
\end{itemize}
}

\section{Tutkmuksen rakenne}

\frame{\frametitle{Diplomityön rakenne} % Leegovertaus

\begin{figure}
\centering
\begin{tikzpicture} [
   start chain=going below,        % General flow is top-to-bottom
    node distance=4mm and 20mm,    % Global setup of box spacing
    ]
% ------------------------------------------------- 
\tikzset{
  base/.style={draw, on chain, on grid, align=center, minimum height=2ex},
  rect/.style={base, minimum height=2em, rectangle, text width=8em},
  bus/.style={base, rectangle, minimum width=15em, text width=4em},
  line/.style={draw, thick, -latex'},
}
    
    \node [rect, yshift=1.0cm] (p1) {Testaus-frameworkit (Teoria)};
    \node [rect] (p2) {Framework-komponentit (Analyysi)};
    \node [rect] (p3) {Uusi framework (Synteesi)};
    \node [rect, right=of p1, xshift=2.0cm] (p4) {Proof of Concept (Empiria)};
    \node [rect, right=of p2, xshift=2.0cm] (p5) {Tulokset};
    \node [rect, right=of p3, xshift=2.0cm] (p6) {Johtopäätökset};
    \node [rect, left=of p3, xshift=-2.0cm] (p0) {Taustat (Vaatimukset};
  
    \path [line] (p0) -- (p3);
    \path [line] (p1) -- (p2);
    \path [line] (p2) -- (p3);
    \path [line] (p3) -- (p4);
    \path [line] (p4) -- (p5);
    \path [line] (p5) -- (p6);
    
\end{tikzpicture}
\caption{Tutkimuksen rakenne} \label{fig:rakenne}
\end{figure}

}

\section{Tutkimus} 

\frame{\frametitle{Vaatimukset}

Vaatimukset perustuvat \textbf{teoriaan} ja Wärtsilän asiantuntijoiden \textbf{haastatteluihin}.

}

\frame{\frametitle{Vaatimuslista (haastatteluista)}

\begin{figure}[H]
\begin{center}
\renewcommand{\arraystretch}{1}
\begin{tabular}{ l p{9cm} }
  \hline
  \small
  R1 & It shall be possible to run test cases. \\ 
  R2 & It shall be possible to schedule automatic test runs. \\ 
  R3 & It shall be possible to write and generate test cases. \\ 
  R4 & It shall be possible to capture and replay messages. \\
  R5 & It shall be possible to generate mock services or stubs. \\
  R6 & It shall be possible to validate test results automatically. \\
  R7 & HTTP/XML, JDBC, and (S)FTP messaging protocols shall be supported. \\
  R8 & It shall be possible to generate test loads, and conduct load tests. \\
  R9 & It shall be possible to generate test loads and conduct stress tests. \\
  R10 & It shall be possible to monitor test results and performance metrics. \\
  \normal
  \hline  
\end{tabular}
\end{center}
\caption{Vaatimukset} \label{fig:reqstable}
\end{figure}
}

\frame{\frametitle{Frameworkin syvin olemus} % selitä kolme tasoa, benchmarkkauksesta prosessinäkökulma
\begin{figure}[H]
\centering
\begin{tikzpicture} [ 
   start chain=going below,         % General flow is top-to-bottom
    node distance=10mm and 50mm,    % Global setup of box spacing
    thick,scale=0.6, every node/.style={transform shape}
    ]
% ------------------------------------------------- 
\tikzset{
  base/.style={draw, on chain, on grid, align=center, minimum height=4ex},
  rect/.style={base, rectangle, minimum height=2em, text width=6em},
  line/.style={draw, thick, -latex'},
  dots/.style={draw, dotted, -latex'}
}

    \draw[semithick] (-5,0) arc (180:0:2 and 0.5);                  % cone 1: top ellipse top arc
    \draw[dashed,color=gray] (-3.5,-5) arc (180:0:0.5 and 0.25);    % cone 1: bottom ellipse top arc
    \draw[semithick] (-3.5,-5) arc (-180:0:0.5 and 0.25);           % cone 1: bottom ellipse bottom arc
    \draw[semithick] (-5,0) arc (-180:0:2 and 0.5);                 % cone 1: top ellipse bottom arc
    \draw[semithick] (-5,0) -- (-3.50,-5);                          % cone 1: left side
    \draw[semithick] (-1,0) -- (-2.50,-5);                          % cone 1: right side
    
    \draw[semithick] (0,0) arc (180:0:2 and 0.5);                   % cone 2: top ellipse top arc
    \draw[dashed, color=gray] (1.5,-5) arc (180:0:0.5 and 0.25);    % cone 2: bottom ellipse top arc
    \draw[semithick] (1.5,-5) arc (-180:0:0.5 and 0.25);            % cone 2: bottom ellipse bottom arc
    \draw[semithick] (0,0) arc (-180:0:2 and 0.5);                  % cone 2: top ellipse bottom arc
    \draw[semithick] (0,0) -- (1.5,-5);                             % cone 2: left side
    \draw[semithick] (4,0) -- (2.5,-5);                             % cone 2: right side

    \draw[semithick] (5,0) arc (180:0:2 and 0.5);                   % cone 3: top ellipse top arc
    \draw[dashed, color=gray] (6.5,-5) arc (180:0:0.5 and 0.25);    % cone 3: bottom ellipse top arc
    \draw[semithick] (6.5,-5) arc (-180:0:0.5 and 0.25);            % cone 3: bottom ellipse bottom arc
    \draw[semithick] (5,0) arc (-180:0:2 and 0.5);                  % cone 3: top ellipse bottom arc
    \draw[semithick] (5,0) -- (6.5,-5);                             % cone 3: left side
    \draw[semithick] (9,0) -- (7.5,-5);                             % cone 3: right side

    \node [rect, xshift=-3.0cm, yshift=1.5cm, fill=white] (stg) {Strategy};
    \node [rect, yshift=0.25cm, fill=white] (req) {Requirements \& input};
    \node [rect, yshift=-0.75cm, fill=white] (prc) {Process};
    \node [rect, yshift=-1.4cm, fill=white] (rlt) {Results};
    
    \node [rect, right=of stg, fill=white] (fmw) {Process structure};
    \node [rect, right=of req, fill=white] (tcg) {Test/surrogate generation};
    \node [rect, right=of prc, fill=white] (run) {Running tests};
    \node [rect, right=of rlt, fill=white] (mon) {Monitoring/ verification};
    
    \node [rect, right=of fmw, fill=white] (art) {Objects};
    \node [rect, right=of tcg, fill=white] (tcs) {Test cases};
    \node [rect, right=of run, fill=white] (exe) {Execution engine};
    \node [rect, right=of mon, fill=white] (out) {Test oracle};
    
   % \node [rect, below=of mon, yshift=-1.0cm, fill=white] (pit) {Pitfalls};
     
    \path [line] (stg) -- (fmw);
    \path [line] (fmw) -- (stg);
    \path [line] (fmw) -- (art);
    \path [line] (art) -- (fmw);
    
    \path [line] (stg) -- (req);
    \path [line] (req) -- (prc);
    \path [line] (prc) -- (rlt);
    
    \path [line] (art) -- (tcs);
    \path [line] (tcs) -- (exe);
    \path [line] (exe) -- (out);
    
    \path [line] (fmw) -- (tcg);
    \path [line] (tcg) -- (run);
    \path [line] (run) -- (mon);
    
    \path [dots] (run) -- (prc);
    \path [dots] (prc) -- (run);
    \path [dots] (run) -- (exe);
    \path [dots] (exe) -- (run);
    
    \path [dots] (req) -- (tcg);
    \path [dots] (tcg) -- (req);
    \path [dots] (tcg) -- (tcs);
    \path [dots] (tcs) -- (tcg);
    
    \path [dots] (rlt) -- (mon);
    \path [dots] (mon) -- (rlt);
    \path [dots] (mon) -- (out);
    \path [dots] (out) -- (mon);
 
\end{tikzpicture}
\caption{Integraatiotestauksen prosessitasot} \label{fig:funnel}
\end{figure}
}

\section{Hypoteesi}

\frame{\frametitle{Uusi testausprosessi}
\begin{figure}[H]
\centering
% =================================================
\pgfdeclarelayer{marx}
\pgfsetlayers{main,marx}
\xdefinecolor{lightgrey}{RGB}{220,220,220}
\xdefinecolor{blackish}{RGB}{30,30,30}
% -------------------------------------------------
% Start the picture
\begin{tikzpicture}[
    start chain=going below,    % General flow is top-to-bottom
    node distance=6mm and 50mm, % Global setup of box spacing
    ]
% ------------------------------------------------- 
\tikzset{
  base/.style={draw, on chain, on grid, align=center, minimum height=4ex},
  proc/.style={base, rectangle, minimum height=4em, text width=7em},
  sut/.style={base, circle, text width=5em, fill = blackish, text = white},
  syst/.style={base, cylinder, shape border rotate=90,  aspect=.2, minimum height=5em, text width=5em},
  file/.style={base, rectangle, shape border rotate=90, minimum height=5em, text width=3em, fill = lightgrey},
  data/.style={base, trapezium, trapezium left angle=70, trapezium right angle=-70, minimum height=1cm}, 
  line/.style={draw, thick, -latex'}
}
% -------------------------------------------------
% Placing the nodes
\node [data] (s0) {Production};
\node [proc] (p0) {Integration test case generation};
\node [file] (f1) {Test case};
\node [syst] (e0) {Test case execution engine};
\node [sut] (s1) {System under test};
\node [syst] (e1) {Surrogate engine};
\node [file, right=of s0] (f0) {Model};
\node [proc, right=of f1] (p1) {Verification};
\node [file, right=of e0] (f2) {Exe-cution trace};
\node [proc, right=of s1] (p2) {Trace collecting};

\path [line] (s0) -- (p0);
\path [line] (p0) -- (f1);
\path [line] (f1) -- (e0);
\path [line] (e0) -- (s1);
\path [line] (s1) -- (e1);
\path [line] (f0) -- (p0);
\path [line] (f1) -- (p1);
\path [line] (p1) -- (e0);
\path [line] (s1) -- (p2);
\path [line] (p2) -- (f2);
\path [line] (f2) -- (p1);

\end{tikzpicture}
\caption{Framework-hypoteesi} \label{fig:UTF}
\end{figure}
}

\section{Koe} 




% Tavoite Diplomityön tavoite ja tutkimuskysymykset
% Menetelmät Rakenne ja tutkimusmentelmät, selitä leegon kautta, kuvaa tutkimustapa
% Taustat Wärtsilästä ja integraatiotestauksesta
% Tutkimus Esittele malleja, ja oma viitekehys
% Hypoteesi Esittle malli, sano että olet workshoppaamassa tätä
% Koe
% Lähteet



\end{document}
